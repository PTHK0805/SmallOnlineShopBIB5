<div class="d-flex justify-content-between px-5 py-2">
  <h1>
    <a class="nav-link" routerLink="/">Everything Shop</a>
  </h1>
  <ul class="nav justify-content-end">
    <li class="nav-item">
      <a class="nav-link" routerLink="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link active" routerLink="/categories">Categories</a>
    </li>
    <li class="nav-item">
      <button class="btn btn-light" type="button" (click)="open(content)">
        <i class="bi bi-cart-dash"></i>
        <span *ngIf="cartItem" class="badge text-bg-secondary ms-2">{{
          totalCartItem()
        }}</span>
      </button>
    </li>
  </ul>
</div>

<ng-template #content let-offcanvas>
  <div class="offcanvas-header">
    <h4 class="offcanvas-title" id="offcanvas-basic-title">Cart Detail</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="offcanvas.dismiss()"
    ></button>
  </div>
  <div class="offcanvas-body" *ngIf="cartItem">
    <ul class="list-group list-group-flush">
      <li class="list-group-item" *ngFor="let citem of cartItem">
        <div class="d-flex">
          <div class="cart-detail-img me-3">
            <img [src]="citem.imageUrl" [alt]="citem.name" />
          </div>
          <div>
            <p>{{ citem.name }}</p>
            <p>Price: {{ citem.price | currency }}</p>
            <p>Amount: {{ citem.amount }}</p>
            <button type="button" class="btn btn-outline-secondary">
              Remove
            </button>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="offcanvas-body" *ngIf="!cartItem">
    <h2 class="text-center">Opps! No item yet.</h2>
  </div>
  <div class="offcanvas-footer p-3" *ngIf="cartItem">
    <div class="my-3 mb-5">
      <h4>Total: {{ totalAmount() | currency }}</h4>
    </div>
    <div class="d-grid checkout-btn">
      <button
        class="btn btn-info"
        type="button"
        routerLink="/"
        (click)="offcanvas.dismiss()"
      >
        Checkout
      </button>
    </div>
  </div>
</ng-template>
